Reunion is a plugin for metamod that allows p.47 and 48 no-steam clients to join the rehlds-based server.

CURRENT VERSION: ${APP_VERSION_STRD}
For more information and updates please check https://github.com/s1lentq/reunion

ARCHIVE CONTAINS:
	amxx directory	- some samples of AmxModX plugins that uses reunion functionality.
	bin directory	- binaries (libraries) for linux and windows.
	public			- C++ API for modders
	Readme.txt		- this file.
	reunion.cfg		- reunion configuration file.

REQUIREMENTS:
	- ReHLDS-based server
	- metamod 1.20 or higher

INSTALLATION:
	1. Go to <gamedir>/addons/ and make new directory named reunion
 		<gamedir> - it is a game directory; cstrike for Counter-Strike, valve for Half-Life, etc
	2. Copy reunion_mm.dll or reunion_mm_i386.so to <gamedir>/addons/reunion/
	3. Go to metamod installation directory (usually its <gamedir>/addons/metamod/) and edit plugins.ini:
		add this line for windows
			win32 addons\reunion\reunion_mm.dll
		or this for linux
			linux addons/reunion/reunion_mm_i386.so
		at the beginning of the file
	4. Enter a 16-64 length random alphanumerical string to "SteamIdHashSalt=" option in reunion.cfg.
		Or you can use generate_random_salt.sh script to do this automatically.
	5. Copy reunion.cfg to server root or gamedir.
	6. Start the server. When server loads, type "meta list" in console. You'll see something like this:

		Currently loaded plugins:
		      description      stat pend  file              vers      src   load  unlod
		 [ 1] Reunion          RUN   -    reunion_mm_i386.  v${APP_VERSION_STRD} ini   Start Never
		 [ 2] AMX Mod X        RUN   -    amxmodx_mm_i386.  v1.8.1.3  ini   Start ANY
		2 plugins, 2 running
	7. If status is not "RUN", start server with "+log on +mp_logecho 1" parameters and look through console output. In 99% cases you'll find reason there.
	8. Installation of AmxModX plugins from amxx directory is not necessary.

HOW TO CHANGE STEAMIDS OF CLIENTS
	Use cid* options in AUTHID MANAGEMENT section of reunion.cfg
	For example, if you want to assign steamids generated by IP for p47 clients that not support unique id generation, you should set:
		cid_NoSteam47 = 3 for assigning STEAM_x:y:z steamid to these clients
		cid_NoSteam47 = 4 for assigning VALVE_x:y:z steamid to these clients

	If you want to drop these clients, just set clientid to 5:
		cid_NoSteam47 = 5
	And all p47 clients without emulators will be dropped with message that you can customize (see next section).

HOW TO CHANGE REJECT MESSAGES WHEN CLIENTID IS 5 (DEPRECATED)
	This could be done using these cvars:
		dp_rejmsg_steam for legit steam (cid_Steam) clients
		dp_rejmsg_nosteam47 for no-steam p47 (cid_NoSteam47) clients
		dp_rejmsg_nosteam48 for no-steam p48 (cid_NoSteam48) clients
		dp_rejmsg_hltv for HLTV (cid_HLTV) clients
		dp_rejmsg_pending for unathorized (cid_cid_SteamPending) clients
		dp_rejmsg_revemu for revEmu (>= 9.74 && <= 9.82) clients
		dp_rejmsg_steamemu for steamEmu clients
		dp_rejmsg_oldrevemu for old revEmu clients (< 9.74)
		dp_rejmsg_avsmp for AVSMP clients
		dp_rejmsg_revemu_sc2009 for revEmu (> 9.82) and SteamClient2009 clients
		dp_rejmsg_sxei for clients with sXe Injected if EnableSXEIdGeneration is set to 1
		dp_rejmsg_revemu2013 for revEmu 2013 clients

	Just put message to them and it will be displayed for rejected clients.

	Example, a part of server.cfg:
		dp_rejmsg_nosteam47 "Sorry, you're using old client, download a new one and come back ;)"

HOW TO GET CLIENT PROTOCOL IN AMXX:
	check the amxx/reu_test.sma. This is sample plugin that outputs protocol number when client connecting.
	NOTE: this is _sample_ plugin and its installation is not necessary.

THANKS TO:
	dreamstalker for ReHLDS project;
	all people who helped with development of dproto.
	kazakh758 for testing a fix of issue related to the client hanging on connect.
	BombermaG for finding a bug in query emulator
